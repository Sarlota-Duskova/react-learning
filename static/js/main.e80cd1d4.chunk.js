(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(6),o=a.n(c),s=a(3),m=(a(15),a(2));function i(e){return l.a.createElement("div",null,l.a.createElement("h1",{className:"column-title"},e.columnTitle),l.a.createElement("div",{className:"input-container"},l.a.createElement("input",{type:"text",placeholder:e.placeholder,value:e.value,onChange:e.onChange}),l.a.createElement("button",{id:"btn",onClick:()=>{e.onAdd()}},e.buttonText)))}function r(e){return l.a.createElement("div",{className:"item-buttons"},l.a.createElement("button",{type:"button",id:"btn",onClick:()=>{e.onAddPlayerToTeam()}},"Add player to the team"),l.a.createElement("button",{type:"button",id:"btn-save",onClick:()=>{e.onSave()}},"Save"))}function d(e){const[t,a]=Object(n.useState)(e.image||"https://cdn-icons-png.flaticon.com/512/146/146031.png");return l.a.createElement("div",{className:"dataLists--list"},l.a.createElement("div",{className:"dataLists--box ".concat(e.active?"active":"")},l.a.createElement("div",{className:"dataLists--info",onClick:()=>{e.onTeamPlayerClick(),e.toggleActive()}},l.a.createElement("strong",null,e.name),l.a.createElement("div",{className:"dataListsListed--box"},"Team:"===e.spanTitle?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Team:"),l.a.createElement("li",null,e.subelement)):Array.isArray(e.subelement)?l.a.createElement(l.a.Fragment,null,"Players:"===e.spanTitle&&0===e.subelement.length?null:"Players:"===e.spanTitle&&1===e.subelement.length?l.a.createElement("span",null,"Player:"):"Players:"===e.spanTitle&&e.subelement.length>1?l.a.createElement("span",null,"Players:"):l.a.createElement("span",null,e.spanTitle),e.subelement.length>0&&l.a.createElement("ul",null,e.subelement.map((e,t)=>l.a.createElement("li",{key:t},e)))):l.a.createElement("span",null,e.subelement))),l.a.createElement("div",{className:"dataLists--buttons"},"Photo"===e.buttonLists&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{id:"btn",onClick:()=>document.getElementById("photo-upload-".concat(e.id)).click()},"Photo"),l.a.createElement("input",{id:"photo-upload-".concat(e.id),type:"file",accept:"image/*",style:{display:"none"},onChange:t=>(t=>{const n=t.target.files[0];if(n){const t=new FileReader;t.readAsDataURL(n),t.onloadend=(()=>{const n=t.result;a(n),e.onPhotoChange(e.id,n)})}})(t)})),"Show team"===e.buttonLists&&l.a.createElement("button",{id:"btn",onClick:()=>{"Photo"===e.buttonLists?document.getElementById("photo-upload-".concat(e.id)).click():"Show team"===e.buttonLists&&e.onShowTeamClick()}},"Show Team"),l.a.createElement("button",{id:"btn-delete",onClick:()=>{e.onDelete&&e.onDelete(e.data)}},"Delete"))))}var u=[{id:0,name:"Player 1",subelement:"Votroci",image:"https://cdn-icons-png.flaticon.com/512/146/146031.png"},{id:1,name:"Player 2",subelement:"Votroci",image:"https://cdn-icons-png.flaticon.com/512/146/146031.png"},{id:2,name:"Player 3",subelement:"Slavie Praha",image:"https://cdn-icons-png.flaticon.com/512/146/146031.png"},{id:3,name:"Player 4",subelement:"Unassigned",image:"https://cdn-icons-png.flaticon.com/512/146/146031.png"},{id:4,name:"Player 5",subelement:"Unassigned",image:"https://cdn-icons-png.flaticon.com/512/146/146031.png"}],g=[{id:0,name:"Slavie Praha",subelement:["Player 3"]},{id:1,name:"Votroci",subelement:["Player 1","Player 2"]},{id:2,name:"Sparta",subelement:[]}];function p(){const[e,t]=Object(n.useState)(()=>{const e=localStorage.getItem("teams");return e?JSON.parse(e):g}),[a,c]=Object(n.useState)(()=>{const e=localStorage.getItem("players");return e?JSON.parse(e):u});Object(n.useEffect)(()=>{localStorage.setItem("teams",JSON.stringify(e)),localStorage.setItem("players",JSON.stringify(a))},[e,a]);const[o,s]=Object(n.useState)(""),[p,b]=Object(n.useState)(""),[y,h]=Object(n.useState)(null),[E,f]=Object(n.useState)([]),[v,P]=Object(n.useState)(!1),[S,T]=Object(n.useState)(!1),[C,k]=Object(n.useState)(Array(e.length).fill(!1)),[A,N]=Object(n.useState)(Array(a.length).fill(!1)),O=(e,t)=>{if(t){const t=C.map((t,a)=>a===e&&!t);console.log("New Active Teams:",t),k(t)}else{const t=A.map((t,a)=>a===e?!t:t);console.log("New Active Players:",t),N(t)}},w=(e,t)=>{const n=a.map(a=>a.id===e?{...a,image:t}:a);c(n)},j=Object(m.o)(),D=a.map((n,o)=>l.a.createElement(d,{key:n.id,name:n.name,id:n.id,subelement:n.subelement,spanTitle:"Team:",buttonLists:"Photo",onDelete:()=>(n=>{console.log("Deleting Player with ID:",n.id);const l=a.filter(e=>e.id!==n.id);c(l);const o=e.map(e=>e.subelement.includes(n.name)?{...e,subelement:e.subelement.filter(e=>e!==n.name)}:e);t(o),console.log("Deleting Player:",n)})(n),onTeamPlayerClick:()=>(e=>{const t=E.findIndex(t=>(console.log("Checking selected player:",t.id),console.log("Clicked player ID:",e.id),t.id===e.id));if(console.log("isSelectedIndex:",t),-1!==t){const a=[...E];a.splice(t,1),f(a),console.log("Deselected Player:",e),console.log("Updated Selected Players:",a)}else f([...E,e]),console.log("Selected Players:",[...E,e]);T(!1)})(n),toggleActive:()=>O(o,!1),active:A[o],image:n.image,onPhotoChange:w})),I=e.map((n,o)=>l.a.createElement(d,{key:n.id,name:n.name,subelement:n.subelement,spanTitle:"Players:",buttonLists:"Show team",onDelete:()=>(n=>{console.log("Deleting Team with ID:",n.id);const l=e.filter(e=>e.id!==n.id);t(l);const o=a.map(e=>e.subelement===n.name?{...e,subelement:"Unassigned"}:e);c(o),console.log("Deleting Team:",n)})(n),onTeamPlayerClick:()=>(e=>{e===y?h(null):(h(e),console.log("Selected Team:",e.name),P(!1))})(n),toggleActive:()=>O(o,!0),active:C[o],onShowTeamClick:()=>(t=>{j("/team/".concat(t),{state:{teams:e,players:a,teamId:t}})})(o)}));return l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"column"},l.a.createElement(i,{columnTitle:"Teams",placeholder:"Enter team name",buttonText:"Add Team",value:o,onChange:e=>s(e.target.value),onAdd:()=>{if(""!==o.trim()){const a={id:e.length,name:o,subelement:[]};t([...e,a]),k([...C,!1]),s("")}}}),I,v&&l.a.createElement("div",{className:"error-message"},"Please select a team.")),l.a.createElement("div",{className:"column"},l.a.createElement(i,{columnTitle:"Players",placeholder:"Enter player name",buttonText:"Add Player",value:p,onChange:e=>b(e.target.value),onAdd:()=>{if(""!==p.trim()){const e={id:a.reduce((e,t)=>t.id>e?t.id:e,0)+1,name:p,subelement:"Unassigned",image:"https://cdn-icons-png.flaticon.com/512/146/146031.png"};c([...a,e]),N([...A,!1]),b("")}}}),D,S&&l.a.createElement("div",{className:"error-message"},"Please select at least one player."),l.a.createElement(r,{onAddPlayerToTeam:()=>{if(!y)return void P(!0);if(0===E.length)return void T(!0);const n=e.map(e=>{if(e.id===y.id){const t=E.filter(t=>!e.subelement.includes(t.name)).map(e=>e.name),a=E.filter(t=>e.subelement.includes(t.name));return a.length>0?console.log("Players ".concat(a.map(e=>e.name).join(", ")," are already in team ").concat(e.name)):console.log("Adding players ".concat(t," to team ").concat(e.name)),{...e,subelement:[...e.subelement,...t]}}return{...e,subelement:e.subelement.filter(e=>!E.map(e=>e.name).includes(e))}});t(n);const l=a.map(e=>E.some(t=>t.id===e.id)?{...e,subelement:y.name}:e);c(l),h(null),f([]),k(Array(e.length).fill(!1)),N(Array(a.length).fill(!1))},onSave:()=>{const t={teams:e,players:a},n=JSON.stringify(t,null,2);console.log(n)}})))}function b(e){const{state:t}=Object(m.m)(),{teams:a,players:n,teamId:c}=t,o=a.find(e=>e.id===c);console.log(c);const s=n.filter(e=>o.subelement.includes(e.name));return l.a.createElement("div",{id:"team--container"},l.a.createElement("h1",{id:"team--heading"},o.name),s.length>0?l.a.createElement("div",null,l.a.createElement("h2",{id:"team--playersTitle"},1===s.length?"Player":"Players",":"),l.a.createElement("div",{id:"team--cardContainer"},s.map(e=>l.a.createElement("div",{id:"team--card"},l.a.createElement("div",{id:"team--playerName",key:e.id},e.name),l.a.createElement("img",{id:"team--image",src:e.image,alt:e.name}))))):l.a.createElement("p",{id:"team--noPlayers"},"This team does not have assigned players yet."))}a(16);function y(){return l.a.createElement("div",null,l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"",element:l.a.createElement(p,null)}),l.a.createElement(m.a,{path:"/team/:id",element:l.a.createElement(b,null)})))}var h=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:o}=t;a(e),n(e),l(e),c(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(y,null)))),h()},7:function(e,t,a){e.exports=a(17)}},[[7,1,2]]]);
//# sourceMappingURL=main.e80cd1d4.chunk.js.map